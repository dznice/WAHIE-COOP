<main>
  <br/>

  <div class="print">
    <div class="save"> Save report as:
    </div>
    <div class="PDF"> 
        <button  class="ti ti-file-text PDF-icon" ></button>
        <button  class="ti ti-file-spreadsheet excel-icon"></button>
        
    </div>
</div>


<section class="main-section">
  <header>
    <div class="container">
      <div class="logo">
      <label class="-label" for="file">
      <span class="coop-name"><label for="logo">
        <input hidden accept="image/*" type="file" id="logo" (change)="chLogo($event)" class="addimg"/>
      <img [src]="preLogo"  height="10px" width="10px" i class="ti ti-camera" ></label></span>
    </label>

    
     </div>
     </div>
    </header>

  <header class="second">
    <h3> WAH-Cooperative</h3>
    <h4 class="report-name" *ngIf="formData.account!=''">Subsidiary Ledger for {{accInfos.journal_name}}</h4>
    <h4 class="report-name" *ngIf="formData.member!='' && formData.account==''">Subsidiary Ledger for {{memInfos.first_name}} {{memInfos.middle_name}} {{memInfos.last_name}}</h4>
    <h4 class="report-name" *ngIf="formData.member=='' && formData.account==''">Subsidiary Ledger for All Accounts</h4>
    <span class="date-today">As of {{ maxDate | date:'mediumDate' }}</span>
    <h5 class="date-today" *ngIf="formData.startDate!='' && formData.endDate!=''">This report based from {{formData.startDate | date:'mediumDate'}} to {{formData.endDate | date:'mediumDate'}}</h5>
    <h5 class="date-today" *ngIf="formData.startDate!='' && formData.endDate==''">This report based from {{formData.startDate | date:'mediumDate'}} to {{formData.endDate | date:'mediumDate'}}</h5>
    <!-- <h5 class="date-today">This report based from {{formData.startDate | date:'mediumDate'}} to {{formData.endDate | date:'mediumDate'}}</h5> -->
  </header>


  <section class="tabler-section">
    <div class="table-container">
      <table class="table-content">
        <thead>
          <tr>
            <th>Particulars</th>
            <th class="th-bal">Starting Balance of {{ oneYearAgo | date:'y'}}</th>
            <th class="th-bal">Payment this {{ maxDate | date:'y' }}</th>
            <th class="th-bal2">Current Balance of {{ maxDate | date:'mediumDate' }}</th>
          
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let item of ledgers">
            <ng-container *ngFor="let itemb of brokenledgers">
              <tr *ngIf="itemb.result.total_balance > 0">
                <ng-container *ngIf="item.result.journal_name === itemb.result.journal_name">
                  <td class="td-bal" > Transaction #{{ itemb.result.transactNumber }}, {{ itemb.result.transactDate | date:'mediumDate' }}</td>
                  <td class="td-bal">
                  <ng-container *ngFor="let itemsb of brokenpledgers">
                    <ng-container *ngIf="itemb.result.transactNumber === itemsb.result.transactNumber">
                      <ng-container *ngIf="itemsb.result.total_balance > 0">
                        {{ itemsb.result.total_balance | currency:'PHP':'symbol-narrow':'1.2-2' }}
                      </ng-container>
                    </ng-container>
                  </ng-container>
                  </td>
                  <td class="td-bal" *ngIf="itemb.result.total_balance > 0">{{ itemb.examplebroken | currency:'PHP':'symbol-narrow':'1.2-2' }}</td>
                  <td class="td-bal" *ngIf="itemb.result.total_balance > 0">{{ itemb.result.total_balance | currency:'PHP':'symbol-narrow':'1.2-2' }}</td>
                </ng-container>
              </tr>
            </ng-container>
            
              <tr>
              <td>{{ item.result.name ? item.result.name : item.result.journal_name }}</td>
              <td class="td-bal">
                <ng-container *ngFor="let items of pledgers">
                  <ng-container *ngIf="item.result.journId === items.result.journId">
                    {{ items.result.total_balance | currency:'PHP':'symbol-narrow':'1.2-2' }}
                  </ng-container>
                </ng-container>
              </td>
              <td class="td-bal">{{ item.example | currency:'PHP':'symbol-narrow':'1.2-2' }}</td>
              <td class="td-bal">{{ item.result.total_balance | currency:'PHP':'symbol-narrow':'1.2-2' }}</td>
            </tr>
          </ng-container>
          <!-- <tr class="tr-total">
            <td class="td-total">Total</td>
            <td class="td-total"></td>
            <td class="td-total"></td>
            <td class="td-total"></td>
          </tr> -->
        </tbody>
      </table>
      <label class="invo-number">Notes: </label> 
      <ul class="res">
        <li  *ngFor="let note of notes">{{ note }}</li>
      </ul>
    </div>
  </section>
</section>
<div class="notess">
  <input class="display" type = "text" [(ngModel)]="newNote" placeholder="Enter a Note">
  <button class="btn-addNote" (click)="addNote()"> Add Note</button> 
</div>
</main>
