<main>
  <header>
    <span class="coop-name">WAH-Cooperative</span>
    <h4 class="report-name" *ngIf="formData.account!=''">Subsidiary Ledger for {{accInfos.journal_name}}</h4>
    <h4 class="report-name" *ngIf="formData.member!='' && formData.account==''">Subsidiary Ledger for {{memInfos.first_name}} {{memInfos.middle_name}} {{memInfos.last_name}}</h4>
    <h4 class="report-name" *ngIf="formData.member=='' && formData.account==''">Subsidiary Ledger for All Accounts</h4>
    <span class="date-today">As of {{ maxDate | date:'mediumDate' }}</span>
    <h5 class="date-today" *ngIf="formData.startDate!='' && formData.endDate!=''">This report based from {{formData.startDate | date:'mediumDate'}} to {{formData.endDate | date:'mediumDate'}}</h5>
    <h5 class="date-today" *ngIf="formData.startDate!='' && formData.endDate==''">This report based from {{formData.startDate | date:'mediumDate'}} to {{formData.endDate | date:'mediumDate'}}</h5>
    <!-- <h5 class="date-today">This report based from {{formData.startDate | date:'mediumDate'}} to {{formData.endDate | date:'mediumDate'}}</h5> -->
  </header>

  <section class="tabler-section">
    <div class="table-container">
      <table class="table-content">
        <thead>
          <tr>
            <th>Particulars</th>
            <ng-container *ngFor="let items of pledgers; let i = index">
              <th class="th-bal" *ngIf="i === pledgers.length - 1">Starting Balance of {{ items.startingBalanceYear | date:'mediumDate'}}</th>
            </ng-container>
            <th class="th-bal">Payment this {{ maxDate | date:'y' }}</th>
            <th class="th-bal">Current Balance of {{ maxDate | date:'mediumDate' }}</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let item of ledgers">
            <tr>
              <td>{{ item.result.name ? item.result.name : item.result.journal_name }}</td>
              <td class="td-bal">
                <ng-container *ngFor="let items of pledgers">
                  <ng-container *ngIf="item.result.journId === items.result.journId">
                    {{ items.result.total_balance | currency:'PHP':'symbol-narrow':'1.2-2' }}
                  </ng-container>
                </ng-container>
              </td>
              <td class="td-bal">{{ item.example | currency:'PHP':'symbol-narrow':'1.2-2' }}</td>
              <td class="td-bal">{{ item.result.total_balance | currency:'PHP':'symbol-narrow':'1.2-2' }}</td>
            </tr>
          </ng-container>
          <tr class="tr-total">
            <td class="td-total">Total</td>
            <td class="td-total"></td>
            <td class="td-total"></td>
            <td class="td-total"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</main>
